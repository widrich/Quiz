// Web-App: Weihnachts-Quiz
const questions = [
  {
    question: "Was war das erste Geschenk dass du mir gemacht hast?",
    options: ["Halbe Bier", "Lego", "J√§germeister", "Schlafplatz f√ºr eine Nacht"],
    correct: 2
  },
  {
    question: "Aus welchem Holz ist unsere Hochzeitsbank?",
    options: ["L√§rche", "Esche", "Buche", "Fichte"],
    correct: 3
  },
  {
    question: "Welche Aufgabe hat mir beim Umbau am meisten Nerven gekostet?",
    options: ["M√∂bel wegtragen", "Estrich stemmen", "Glaswolle entsorgen", "Dampfbremse montieren"],
    correct: 3
  },
  {
    question: "Welche Aufgabe hat dir beim Umbau am meisten Nerven gekostet?",
    options: ["M√∂bel wegtragen", "Estrich stemmen", "Glaswolle entsorgen", "Dampfbremse montieren"],
    correct: 2
  },
  {
    question: "Wieviel Stanley-Messer sind uns wohl w√§hrend der Baustelle abhanden gekommen?",
    options: ["3", "6", "9", "keins - alle verschollen"],
    correct: 1
  },
  {
    question: "Welche Uhrzeit ist die einzig wahre?",
    options: ["05:25", "12:21", "16:00", "22:22"],
    correct: 3
  },
  {
    question: "Zu welchem Formel 1 Rennen wollen wir als n√§chstes?",
    options: ["Ungarn", "Imola", "Deutschland", "Slowenien"],
    correct: 0
  }
];

const app = document.getElementById('app');
let currentQuestion = 0;
let score = 0;
let completedQuestions = Array(questions.length).fill(false);

function renderQuestion() {
  while (currentQuestion < questions.length && completedQuestions[currentQuestion]) {
    currentQuestion++;
  }

  if (currentQuestion < questions.length) {
    const question = questions[currentQuestion];
    app.innerHTML = `
      <div style="text-align: center;">
        <h2 style="font-size: 1.5em; font-weight: bold; background-color: white; padding: 10px; border-radius: 10px;">Frage ${currentQuestion + 1}: ${question.question}</h2>
        <ul style="list-style: none; padding: 0;">
          ${question.options.map((option, index) => `<li style="background-color: ${getOptionColor(index)}; padding: 10px; margin: 5px; border-radius: 10px; cursor: pointer; font-weight: bold; color: white;" onclick="checkAnswer(${index})">${option}</li>`).join('')}
        </ul>
        <img src="https://media.giphy.com/media/l3q2K5jinAlChoCLS/giphy.gif" alt="Dancing Penguin" style="width: 150px; margin-top: 20px;">
      </div>
    `;
  } else {
    renderResult();
  }
}

function checkAnswer(selected) {
  if (selected === questions[currentQuestion].correct) {
    score++;
    completedQuestions[currentQuestion] = true;
  }
  currentQuestion++;
  renderQuestion();
}

function renderResult() {
  if (score === questions.length) {
    app.innerHTML = `
      <div style="text-align: center;">
        <h1 style="font-size: 2em; color: white; background-color: darkred; padding: 10px; border-radius: 10px;">Frohe Weihnachten Weibi ‚ù§Ô∏è</h1>
        <p style="font-size: 1.2em; color: white; background-color: darkgreen; padding: 10px; border-radius: 10px;">I m√∂cht da sagen, wie sehr i di und unsere stetig wachsende Familie liebe. Du bist das Herzst√ºck des Ganzen und mei R√ºckhalt in allen Lebenslagen ‚öì. Des letzte Jahr war wahrscheinlich des schwierigste und anstrengendste unseres bisherigen Lebens als P√§dagoge und Baumeister zugleichü§±üèΩüë∑üèΩ‚Äç‚ôÇÔ∏è, aber i bin super zuversichtlich f√ºr 2025, wenn ma endlich unser eigenes zuhause fertig haben und entspannt auf da Terrasse sitzen kinan mit am Bier und klassischer Musik aus den Boxen üòéüçª</p>
        <p style="font-size: 1.2em; color: white; background-color: darkblue; padding: 10px; border-radius: 10px;">Vielen Dank dassd ned aufh√∂rst ma immer wieder Sachen zu sagen de i leider doch wieder vergessen hab und mi trotzdem aush√§ltst.</p>
        <button onclick="playVideo()" style="padding: 10px 20px; font-size: 1em; background-color: #0275d8; color: white; border: none; border-radius: 5px; cursor: pointer;">Play Video</button>
        <div id="videoContainer" style="display: none; margin-top: 20px;">
          <video controls>
            <source src="clip.mp4" type="video/mp4">
            Dein Browser unterst√ºtzt keine Videos.
          </video>
        </div>
      </div>
    `;
  } else {
    app.innerHTML = `<h1 style="color: darkred;">Leider nicht alle richtig! Versuch es nochmal üòä</h1>`;
    currentQuestion = 0;
    renderQuestion();
  }
}

function playVideo() {
  const videoContainer = document.getElementById('videoContainer');
  videoContainer.style.display = 'block';
}

function getOptionColor(index) {
  const colors = ["#ff9999", "#99ccff", "#99ff99", "#ffcc99"];
  return colors[index % colors.length];
}

// Set background image
document.body.style.backgroundImage = "url('https://www.publicdomainpictures.net/pictures/300000/velka/christmas-pattern-background.jpg')";
document.body.style.backgroundSize = "cover";
document.body.style.color = "white";

document.body.style.fontFamily = "Arial, sans-serif";
// Initiale Anzeige
renderQuestion();
